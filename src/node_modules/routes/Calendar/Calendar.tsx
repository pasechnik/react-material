import * as React from 'react';
import Paper from '@material-ui/core/Paper';
import { ViewState, AppointmentModel } from '@devexpress/dx-react-scheduler';
import Container from '@material-ui/core/Container';
import {
  Scheduler,
  WeekView,
  Toolbar,
  DateNavigator,
  ViewSwitcher,
  Appointments,
  TodayButton,
  MonthView,
  DayView,
} from '@devexpress/dx-react-scheduler-material-ui';
// import { AppointmentModel } from 'routes/Calendar/types';
import { appointments } from 'routes/Calendar/data';

// const currentDate: string = new Date().toDateString();
// const appointments = [
//   { startDate: '2020-04-30T09:45', endDate: '2020-04-30T11:00', title: 'Meeting' },
//   { startDate: '2020-05-01T12:00', endDate: '2020-05-01T13:30', title: 'Go to a gym' },
// ];

export type CalState = {
  data: AppointmentModel[];
  currentDate: string;
};

export class Calendar extends React.PureComponent<{}, CalState> {
  state = {
    data: appointments,
    currentDate: new Date().toDateString(),
  } as Readonly<CalState>;

  currentDateChange = (currentDate: Date) => {
    this.setState({ currentDate: currentDate.toDateString() });
  };

  render() {
    const { data, currentDate } = this.state;

    return (
      <Container maxWidth="md">
        <Scheduler data={data} height={660}>
          <ViewState
            currentDate={currentDate}
            onCurrentDateChange={this.currentDateChange}
            defaultCurrentViewName="Week"
          />
          <WeekView startDayHour={9} endDayHour={19} />
          <WeekView name="work-week" displayName="Work Week" excludedDays={[0, 6]} startDayHour={9} endDayHour={19} />
          <MonthView />
          <DayView />
          <Toolbar />
          <DateNavigator />
          <ViewSwitcher />
          <TodayButton />
          <Appointments />
        </Scheduler>
      </Container>
    );
  }
}

export default Calendar;
